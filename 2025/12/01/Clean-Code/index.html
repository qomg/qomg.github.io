
<!DOCTYPE html>
<html lang="zh-Hans">
    <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  
    <link rel="icon" href="/img/favicon.png">
  
  
      <meta name="author" content="qomg">
  
  
      <meta name="subtitle" content="messy thinking">
  
  
      <meta name="description" content="Stay curious. Keep learning!">
  
  
      <meta name="keywords" content=",developer">
  
  
    <link rel="alternate" href="/atom.xml " title="mind pieces" type="application/atom+xml">
  

  

  <title>Clean Code | mind pieces</title>

  

  

  

  <link rel="stylesheet" href="/css/style.css" >
  <link rel="stylesheet" href="/css/partial/dark.css" >

  
  
  

  
    
      <link rel="stylesheet" href="/css/partial/highlight/atom-one-light.css">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/a2396837/CDN@latest/css/iconfont.css">
    
  

  
</head>
    
<div class="nav index" style="height: 60px;">
    <div class="title animated fadeInDown">
        <div class="layui-container">
                <div class="nav-title"><a href="/" title="mind pieces">mind pieces</a></div>
            <div class="nav-list">
                <button> <span class=""></span><span style="display: block;"></span><span class=""></span> </button>
                <ul class="layui-nav" lay-filter="">
                    
                        
                        
                        
                        
                    <li class="layui-nav-item">
                        <a href="/search/ ">
                            <i class=" fas fa-search-plus " style="color: rgb(3 169 244);"></i>
                            <span class="layui-nav-item-name">Search</span>
                        </a>
                    </li>
                    
                        
                        
                        
                        
                    <li class="layui-nav-item">
                        <a href="/ ">
                            <i class=" fab fa-fort-awesome " style="color: rgb(255 107 107);"></i>
                            <span class="layui-nav-item-name">Home</span>
                        </a>
                    </li>
                    
                        
                        
                        
                        
                    <li class="layui-nav-item">
                        <a href="/archives/ ">
                            <i class=" fas fa-archive " style="color: rgb(10 189 227);"></i>
                            <span class="layui-nav-item-name">Archives</span>
                        </a>
                    </li>
                    
                        
                        
                        
                        
                    <li class="layui-nav-item">
                        <a href="/tags ">
                            <i class=" fas fa-hashtag " style="color: rgb(254 202 87);"></i>
                            <span class="layui-nav-item-name">Tags</span>
                        </a>
                    </li>
                    
                        
                        
                        
                        
                    <li class="layui-nav-item">
                        <a href="/categories ">
                            <i class=" far fa-folder-open " style="color: rgb(29 209 161);"></i>
                            <span class="layui-nav-item-name">Categories</span>
                        </a>
                    </li>
                    
                        
                        
                        
                        
                    <li class="layui-nav-item">
                        <a href="/about ">
                            <i class=" fab fa-grav " style="color: rgb(154 106 247);"></i>
                            <span class="layui-nav-item-name">About</span>
                        </a>
                    </li>
                    
                    
                    <span class="layui-nav-bar" style="left: 342px; top: 78px; width: 0px; opacity: 0;"></span>
                </ul>
            </div>
        </div>
    </div>
</div>
    
<header class="header">
        
            <div class="logo">
                    <a href="/"><img src="https://cdn.jsdelivr.net/gh/a2396837/CDN@latest/images/2020/07/27/baokemeng.webp" onerror=this.onerror=null,this.src="/img/loading.gif"></a>
            </div>
         
    </div>
     
    
            <div class="social">
                
                        <a class="social-icon" href="https://github.com/qomg" target="_blank" title="Github">
                            <i class="iconfont icon-GitHub" aria-hidden="true"></i>
                          </a>
                 
                        <a class="social-icon" href="mailto:yazhanmu@live.cn" target="_blank" title="Email">
                            <i class="iconfont icon-email" aria-hidden="true"></i>
                          </a>
                 
                        <a class="social-icon" href="https://steamcommunity.com/id/qomg" target="_blank" title="Steam">
                            <i class="iconfont icon-steam" aria-hidden="true"></i>
                          </a>
                 
                        <a class="social-icon" href="https://space.bilibili.com/qomg" target="_blank" title="Bilibili">
                            <i class="iconfont icon-bilibili" aria-hidden="true"></i>
                          </a>
                 
                        <a class="social-icon" href="https://music.163.com/#/user/home?id=qomg" target="_blank" title="Netmusic">
                            <i class="iconfont icon-wangyiyunyinle1" aria-hidden="true"></i>
                          </a>
                 
                        <a class="social-icon" href="/atom.xml" target="_blank" title="rss">
                            <i class="iconfont icon-rss" aria-hidden="true"></i>
                          </a>
                 
            </div>
     
</header>

    
<article id="post">
  <div class="post-title">Clean Code</div>
  
<div class="post-meta">
    
    
      <div class="post-meta-item date">
        <span title="Created 2025.12.01"><i class="far fa-calendar-alt"></i> 2025.12.01</span>
      </div>
      <div class="post-meta-item updated">
        <span title="Updated 2025.12.01"><i class="far fa-calendar-check"></i> 2025.12.01</span>
      </div>
     
     
    
     <div class="post-meta-item wordcount">
        
          <i class="fas fa-pencil-alt"></i> <span class="post-count">1.3k words</span>
           
        
          <i class="far fa-clock"></i> <span class="post-count">4 min</span>
                               
      </div>
     
</div>


  
  <div class="content">
        <div><h3 id="《Clean-Code-A-Handbook-of-Agile-Software-Craftsmanship》核心内容总结"><a href="#《Clean-Code-A-Handbook-of-Agile-Software-Craftsmanship》核心内容总结" class="headerlink" title="《Clean Code: A Handbook of Agile Software Craftsmanship》核心内容总结"></a>《Clean Code: A Handbook of Agile Software Craftsmanship》核心内容总结</h3><h4 id="一、什么是整洁代码？"><a href="#一、什么是整洁代码？" class="headerlink" title="一、什么是整洁代码？"></a><strong>一、什么是整洁代码？</strong></h4><p>整洁代码是<strong>简单、直接、能清晰传达意图</strong>的代码，是专业开发者的标志。其核心特征包括：  </p>
<ul>
<li><strong>可读性</strong>：像散文一样易读，无需额外注释即可理解逻辑；  </li>
<li><strong>单一职责</strong>：每个函数&#x2F;类只做一件事，避免“上帝类”；  </li>
<li><strong>无重复代码</strong>：遵循DRY（Don’t Repeat Yourself）原则，减少冗余；  </li>
<li><strong>易测试</strong>：支持自动化测试，确保行为符合预期；  </li>
<li><strong>低依赖</strong>：模块间松耦合，便于维护和扩展。</li>
</ul>
<h4 id="二、关键原则与实践"><a href="#二、关键原则与实践" class="headerlink" title="二、关键原则与实践"></a><strong>二、关键原则与实践</strong></h4><h5 id="1-有意义的命名"><a href="#1-有意义的命名" class="headerlink" title="1. 有意义的命名"></a>1. <strong>有意义的命名</strong></h5><p>命名是代码的“沟通工具”，需遵循：  </p>
<ul>
<li><strong>意图揭示</strong>：名称应明确“为什么存在”“做什么”（如<code>calculateDiscount()</code>比<code>calc()</code>更清晰）；  </li>
<li><strong>避免误导</strong>：不使用模糊名称（如<code>temp</code>、<code>data</code>），避免类型编码（如<code>strName</code>）；  </li>
<li><strong>可搜索</strong>：用具体名词（如<code>customerAddress</code>）而非抽象词（如<code>info</code>）；  </li>
<li><strong>发音友好</strong>：便于团队讨论（如<code>getDeveloperName()</code>比<code>gdn()</code>更易读）。</li>
</ul>
<h5 id="2-函数设计"><a href="#2-函数设计" class="headerlink" title="2. 函数设计"></a>2. <strong>函数设计</strong></h5><p>函数是代码的“基本单元”，需满足：  </p>
<ul>
<li><strong>短小精悍</strong>：理想行数≤20行，避免嵌套（如<code>if/else</code>层级≤2）；  </li>
<li><strong>单一职责</strong>：一个函数只做一件事（如<code>validateUser()</code>不应同时处理登录逻辑）；  </li>
<li><strong>参数简洁</strong>：参数≤3个，避免“标志参数”（如<code>isUpdate</code>，应拆分为独立函数）；  </li>
<li><strong>无副作用</strong>：不修改外部状态（如不直接修改全局变量）。</li>
</ul>
<h5 id="3-类与模块设计"><a href="#3-类与模块设计" class="headerlink" title="3. 类与模块设计"></a>3. <strong>类与模块设计</strong></h5><ul>
<li><strong>单一职责原则（SRP）</strong>：每个类只负责一个功能（如<code>Order</code>类不应处理支付逻辑）；  </li>
<li><strong>开放&#x2F;封闭原则（OCP）</strong>：对扩展开放，对修改封闭（如通过接口扩展功能，而非修改原有代码）；  </li>
<li><strong>依赖反转原则（DIP）</strong>：依赖抽象而非具体实现（如用<code>PaymentGateway</code>接口而非直接调用<code>Stripe</code>类）。</li>
</ul>
<h5 id="4-测试驱动开发（TDD）"><a href="#4-测试驱动开发（TDD）" class="headerlink" title="4. 测试驱动开发（TDD）"></a>4. <strong>测试驱动开发（TDD）</strong></h5><p>TDD是“测试先行”的开发模式，流程为：  </p>
<ol>
<li><strong>写失败测试</strong>：先写测试用例（预期行为）；  </li>
<li><strong>写最小代码</strong>：仅写通过测试的最小代码；  </li>
<li><strong>重构</strong>：优化代码（如消除重复、简化逻辑）。<br>TDD的优势：<strong>减少bug、提高代码可测试性、促进设计优化</strong>。</li>
</ol>
<h5 id="5-错误处理"><a href="#5-错误处理" class="headerlink" title="5. 错误处理"></a>5. <strong>错误处理</strong></h5><ul>
<li><strong>优雅处理</strong>：用异常而非返回码（如<code>throw new InvalidInputException()</code>比返回<code>-1</code>更清晰）；  </li>
<li>**避免大<code>try/catch</code>**：将错误处理限制在最小范围（如只在业务逻辑层捕获异常）；  </li>
<li><strong>明确错误信息</strong>：提供有用的错误消息（如“Invalid email format”比“Error”更有用）。</li>
</ul>
<h5 id="6-注释与文档"><a href="#6-注释与文档" class="headerlink" title="6. 注释与文档"></a>6. <strong>注释与文档</strong></h5><ul>
<li><strong>最小化注释</strong>：优先用代码表达意图（如<code>calculateTotal()</code>比注释“计算总价”更清晰）；  </li>
<li><strong>解释“为什么”</strong>：注释应说明“为什么做”而非“做什么”（如“避免空指针异常”比“检查空值”更有用）；  </li>
<li><strong>保持更新</strong>：代码修改后，同步更新注释（避免“僵尸注释”）。</li>
</ul>
<h5 id="7-代码格式与结构"><a href="#7-代码格式与结构" class="headerlink" title="7. 代码格式与结构"></a>7. <strong>代码格式与结构</strong></h5><ul>
<li><strong>一致风格</strong>：遵循团队约定的格式（如缩进、换行、命名规范）；  </li>
<li><strong>垂直分离</strong>：相关代码放在一起（如变量声明靠近使用位置，函数按调用顺序排列）；  </li>
<li><strong>水平对齐</strong>：避免不必要的对齐（如<code>=</code>对齐），保持代码简洁。</li>
</ul>
<h4 id="三、代码异味与重构"><a href="#三、代码异味与重构" class="headerlink" title="三、代码异味与重构"></a><strong>三、代码异味与重构</strong></h4><p>代码异味是“代码质量下降的信号”，常见类型及重构方法：  </p>
<ul>
<li><strong>重复代码</strong>：提取公共方法（如将<code>calculateTax()</code>提取为独立函数）；  </li>
<li><strong>长方法</strong>：拆分为小函数（如将<code>processOrder()</code>拆分为<code>validateOrder()</code>、<code>calculateTotal()</code>等）；  </li>
<li><strong>大类</strong>：拆分为小类（如将<code>OrderManager</code>拆分为<code>OrderValidator</code>、<code>OrderCalculator</code>等）；  </li>
<li><strong>不当继承</strong>：用组合替代继承（如用<code>HasPaymentMethod</code>接口替代<code>extends PaymentMethod</code>）。</li>
</ul>
<h4 id="四、设计原则与模式"><a href="#四、设计原则与模式" class="headerlink" title="四、设计原则与模式"></a><strong>四、设计原则与模式</strong></h4><ul>
<li><strong>SOLID原则</strong>：  <ul>
<li><strong>SRP</strong>（单一职责）：每个类只做一件事；  </li>
<li><strong>OCP</strong>（开放&#x2F;封闭）：对扩展开放，对修改封闭；  </li>
<li><strong>LSP</strong>（里氏替换）：子类必须能替换父类；  </li>
<li><strong>ISP</strong>（接口隔离）：接口应小而专注；  </li>
<li><strong>DIP</strong>（依赖反转）：依赖抽象而非具体。</li>
</ul>
</li>
<li><strong>常用模式</strong>：  <ul>
<li><strong>工厂模式</strong>：创建对象（如<code>PaymentFactory</code>创建不同支付方式）；  </li>
<li><strong>策略模式</strong>：选择算法（如<code>SortingStrategy</code>支持冒泡排序、快速排序）；  </li>
<li><strong>观察者模式</strong>：事件驱动（如<code>OrderPlacedEvent</code>通知库存系统）。</li>
</ul>
</li>
</ul>
<h4 id="五、测试与可维护性"><a href="#五、测试与可维护性" class="headerlink" title="五、测试与可维护性"></a><strong>五、测试与可维护性</strong></h4><ul>
<li><strong>测试金字塔</strong>：单元测试（70%）&gt; 集成测试（20%）&gt; 端到端测试（10%）；  </li>
<li><strong>测试原则</strong>：  <ul>
<li><strong>独立</strong>：测试不依赖外部系统（如用Mock对象替代数据库）；  </li>
<li><strong>可重复</strong>：测试结果一致（如不依赖随机数据）；  </li>
<li><strong>快速</strong>：测试执行时间短（如避免长时间运行的集成测试）。</li>
</ul>
</li>
<li><strong>可维护性技巧</strong>：  <ul>
<li><strong>模块化</strong>：将代码拆分为小模块（如微服务架构）；  </li>
<li><strong>低耦合</strong>：减少模块间依赖（如用接口替代直接调用）；  </li>
<li><strong>文档化</strong>：用注释说明“为什么做”（如<code>// 用于处理支付超时</code>）。</li>
</ul>
</li>
</ul>
<h4 id="六、总结"><a href="#六、总结" class="headerlink" title="六、总结"></a><strong>六、总结</strong></h4><p>《Clean Code: A Handbook of Agile Software Craftsmanship》的核心是“<strong>代码是写给人看的，其次才是机器</strong>”。通过遵循<strong>有意义的命名、单一职责、TDD、SOLID原则</strong>等实践，开发者能写出<strong>易读、易维护、可扩展</strong>的代码，提升团队协作效率，减少技术债务。这本书不仅是技术手册，更是“软件工艺”的体现，适合所有级别的开发者阅读。</p>
</div>
        
          <div class="post-copyright">
                  <div class="copyright-item">
                      <span> Author: qomg</span>
                  </div>
                  <div class="copyright-item">
                      <span> Link: <a href="http://qomg.github.io/2025/12/01/Clean-Code/">http://qomg.github.io/2025/12/01/Clean-Code/</a></span>
                  </div>
                  <div class="copyright-item">
                      <span> License: 本博客所有文章除特别声明外，均采用许可协议 <a target="_blank" rel="noopener" href="http://creativecommons.org/licenses/by-nc/4.0/">CC-BY-NC-4.0</a> 转载请注明出处！</span>
                  </div>
          </div>
        
  </div>

  <div class="share-reward">
    <div class="share">
        
<div class="social-share" data-sites="facebook,twitter,wechat,weibo,qq"></div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css">
<script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script>


      </div>
        <div class="reward">
          
        </div>
    </div>
    
    <div class="post_tags">
      
    </div>
    <div class="post-nav">
      
        <div class="post-nav-prev post-nav-item">
            <a href="/2025/12/01/Coding-Interview/" >Coding Interview<i class="fa fa-chevron-left"></i></a>
        </div>
      
      
        <div class="post-nav-next post-nav-item">
            <a href="/2024/09/18/Android%E8%AF%BE%E9%A2%98%E7%A0%94%E7%A9%B6/" >Android课题研究<i class="fa fa-chevron-right"></i></a>
        </div>
      
    </div>
      



  <div id="valine"></div>
  <script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script>
  <script>
        new Valine({
          el: '#valine',
          appId: "1jwbsn4C9mzsuGTV2X3ge3uX-gzGzoHsz",
          appKey: "8ibZIVDCnlmAVsDdPi2D1wWP",
          avatar: "mm",
          lang: "",
          meta: 'nick,mail,link'.split(','),
          requiredFields: 'nick,mail'.split(','),
          placeholder: "评论记得带上邮箱,你的留言我会马上收到邮箱提醒哒",
          pageSize:'10',
          recordIP: 'true',
          serverURLs: "",
          emojiCDN: "",
          enableQQ: "true",
        });
  </script>
  

</article>

    
<a id="gotop" href="javascript:" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    






    
<div id="bottom-outer">
    <div id="bottom-inner">
        © 2020 <i class="fa fa-heart" id="heart"></i> qomg 
        <br>
        Powered by 
        <a target="_blank" rel="noopener" href="http://hexo.io">hexo</a> | Theme is <a target="_blank" rel="noopener" href="https://github.com/a2396837/hexo-theme-blank/">blank</a>
        
          <div class="icp-info">
            
          <a href="" target="_blank"> </a>
        </div>
        
    </div>  
  </div>
  
<script src="https://cdn.jsdelivr.net/npm/layui-src@2.5.5/dist/layui.min.js"></script>



  
    <script src="/js/script.js"></script>
  
    <script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script>
  

 

  <script src="/js/local-search.js"></script>
<script type="text/javascript">      
  var search_path = "search.xml";
if (search_path.length == 0) {
  search_path = "search.xml";
}
var path = "/" + search_path;
  searchFunc(path, 'local-search-input', 'local-search-result');
</script>
  


  <script>
    window.lazyLoadOptions = {
      elements_selector: 'img',
      threshold: 0
    }
</script>
<script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script>   
  


  <script>
    var images = $('img').not('.nav-logo img').not('.card img').not($('a>img')).not('.reward-content img')
    images.each(function (i, o) {
      var lazyloadSrc = $(o).attr('data-src') ? $(o).attr('data-src') : $(o).attr('src')
      $(o).wrap(`<a href="${lazyloadSrc}" data-fancybox="group" data-caption="${$(o).attr('alt')}" class="fancybox"></a>`)
    })
  </script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script>
  <script>
        $().fancybox({
      selector: '[data-fancybox]',
      loop: true,
      transitionEffect: 'slide',
      protect: true,
      buttons: ['slideShow', 'fullScreen', 'thumbs', 'close']
    })
  </script>   
  










  <script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module" defer></script>
  




  
<script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js"></script>
<script>
!function (e, t, a) {
  var initCopyCode = function(){
    var copyHtml = '';
    copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
    copyHtml += '  <i class="fa fa-clipboard"></i><span>复制</span>';
    copyHtml += '</button>';
    $(".highlight .code pre").before(copyHtml);
    new ClipboardJS('.btn-copy', {
      target: function(trigger) {
        return trigger.nextElementSibling;
      }
    });
  }
  initCopyCode();
}(window, document);
</script>  
  

<script>
  var btntop = $('#gotop');
  btntop.on('click', function (e) {
    e.preventDefault();
    $('html, body').animate({ scrollTop: 0 }, '300');
  });

  var $table = $('.content table').not($('figure.highlight > table'))
$table.each(function () {
  $(this).wrap('<div class="table-wrap"></div>')
})
</script>



</html>